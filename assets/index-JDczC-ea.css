:root{--bg-dark: #0a0a0f;--bg-card: rgba(20, 20, 30, .7);--accent-gold: #ffcc00;--accent-gold-glow: rgba(255, 204, 0, .5);--accent-blue: #00ccff;--accent-blue-glow: rgba(0, 204, 255, .5);--accent-red: #ff3366;--accent-red-glow: rgba(255, 51, 102, .5);--accent-green: #33ff99;--accent-green-glow: rgba(51, 255, 153, .5);--text-primary: #ffffff;--text-secondary: #a0a0b0;--glass-border: rgba(255, 255, 255, .1);--glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, .37);font-family:Inter,system-ui,-apple-system,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:var(--text-primary);background-color:var(--bg-dark);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--neon-blue: #00f3ff;--neon-pink: #ff00ff;--neon-purple: #9d00ff;--bg-deep: #050510}*{box-sizing:border-box;margin:0;padding:0}body{min-width:320px;min-height:100vh;background:#000;display:flex;justify-content:center;align-items:center;margin:0;padding:0;background-color:var(--bg-deep);color:#fff;font-family:Outfit,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;overflow:hidden;height:100vh}#root{width:100%;height:100vh;display:flex;flex-direction:column;position:relative}#root:after{content:"";position:fixed;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);background-size:100% 4px,3px 100%;pointer-events:none;z-index:100000;opacity:.3}.vignette{position:fixed;inset:0;background:radial-gradient(circle,transparent 40%,rgba(0,0,0,.8) 100%);pointer-events:none;z-index:99999}.synth-sun{position:fixed;bottom:-100px;left:50%;transform:translate(-50%);width:600px;height:600px;background:linear-gradient(to bottom,#f0f,#ff8c00);border-radius:50%;filter:blur(2px) drop-shadow(0 0 50px #ff00ff);z-index:-1;opacity:.2;-webkit-mask-image:repeating-linear-gradient(to bottom,black 0,black 20px,transparent 20px,transparent 30px);mask-image:repeating-linear-gradient(to bottom,black 0,black 20px,transparent 20px,transparent 30px)}.synth-grid{position:fixed;bottom:0;left:50%;width:200%;height:100%;background-image:linear-gradient(var(--neon-purple) 1px,transparent 1px),linear-gradient(90deg,var(--neon-purple) 1px,transparent 1px);background-size:100px 100px;transform:translate(-50%) skewY(-5deg) rotateX(60deg);transform-origin:bottom;z-index:-2;opacity:.15;animation:grid-scroll 10s infinite linear}@keyframes grid-scroll{0%{background-position:0 0}to{background-position:0 100px}}.glass-panel{background:var(--bg-card);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid var(--glass-border);border-radius:16px;box-shadow:var(--glass-shadow)}.neon-text-gold{text-shadow:0 0 10px var(--accent-gold-glow);color:var(--accent-gold)}.neon-text-blue{text-shadow:0 0 10px var(--accent-blue-glow);color:var(--accent-blue)}.neon-text-red{text-shadow:0 0 10px var(--accent-red-glow);color:var(--accent-red)}#root.danger:before{animation:chromatic-glitch .2s infinite;background-size:102% 4px,103% 100%}@keyframes chromatic-glitch{0%{transform:translate(0)}25%{transform:translate(-2px,2px);filter:hue-rotate(90deg)}50%{transform:translate(2px,-2px);filter:hue-rotate(180deg)}75%{transform:translate(-1px,-1px);filter:hue-rotate(270deg)}to{transform:translate(0)}}#root.danger:after{background:radial-gradient(circle,transparent 30%,rgba(255,0,0,.4) 100%);animation:vignette-pulse 1s infinite alternate}@keyframes vignette-pulse{0%{opacity:.4}to{opacity:.8}}@keyframes pulse{0%{transform:scale(1);opacity:.8}50%{transform:scale(1.05);opacity:1}to{transform:scale(1);opacity:.8}}@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}:root{--neon-blue: #00f3ff;--neon-purple: #bc13fe;--neon-gold: #ffd700;--bg-dark: #000000;--glass-bg: rgba(255, 255, 255, .05)}.app-container{width:100vw;height:100vh;background:var(--bg-dark);color:#fff;overflow:hidden;position:relative;display:flex;flex-direction:column}.glass-panel{background:#0a0a0fe6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);box-shadow:0 10px 40px #000000e6}.splash-screen{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:2000;background:#000;cursor:pointer}.splash-title{font-size:5rem;line-height:1.1;font-weight:900;text-align:center;margin:0;letter-spacing:5px;text-shadow:0 0 20px var(--neon-blue);animation:pulse-title 2s infinite ease-in-out}.splash-subtitle{margin-top:2rem;font-size:1.5rem;letter-spacing:5px;opacity:.8;animation:blink 1s infinite}@keyframes pulse-title{0%,to{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.05);filter:brightness(1.3)}}@keyframes blink{0%,to{opacity:.4}50%{opacity:1}}.picker-modal-overlay{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:1500;background:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.picker-modal{padding:2.5rem;border-radius:20px;text-align:center;width:90%;max-width:800px;border:1px solid var(--neon-blue)}.picker-title{font-size:2rem;margin-bottom:2rem;margin-top:0;letter-spacing:3px}.mode-grid-compact{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;justify-items:center}.mode-card{background:#ffffff08;border:1px solid rgba(255,255,255,.1);padding:1rem;border-radius:12px;cursor:pointer;transition:all .2s ease-out;color:#fff;display:flex;flex-direction:column;align-items:center;gap:.5rem;width:100%}.mode-card:active{transform:scale(.95)}.mode-card.neon-border-blue:hover{border-color:var(--neon-blue);box-shadow:0 0 15px #00f3ff4d}.mode-card.neon-border-gold:hover{border-color:var(--neon-gold);box-shadow:0 0 15px #ffd7004d}.mode-card.neon-border-purple:hover{border-color:var(--neon-purple);box-shadow:0 0 15px #bc13fe4d}.mode-card.neon-border-red:hover{border-color:#f05;box-shadow:0 0 15px #ff00554d}.mode-card.neon-border-waka:hover{border-color:gold;box-shadow:0 0 15px #ffd70080}.mode-card.neon-border-4d:hover{border-color:#bc13fe;box-shadow:0 0 20px #bc13fe80}.mode-icon{font-size:2rem}.mode-card h3{margin:0;font-size:1rem;letter-spacing:1px}.current-mode-label{position:absolute;top:80px;right:2rem;background:var(--neon-blue);color:#000;padding:.3rem .8rem;font-weight:700;font-size:.8rem;z-index:100;border-radius:4px}.game-footer{position:fixed;bottom:20px;left:50%;transform:translate(-50%);width:auto;z-index:1000;pointer-events:none}.footer-content{display:flex;align-items:center;gap:1rem;padding:.6rem 1.5rem;border-radius:50px;pointer-events:auto}.exit-menu-btn{background:#ff00551a;border:1px solid #ff0055;color:#f05;padding:.5rem 1.2rem;border-radius:20px;cursor:pointer;font-weight:700;font-size:.8rem;transition:all .3s;letter-spacing:1px}.exit-menu-btn:hover{background:#f05;color:#fff;box-shadow:0 0 15px #f05;transform:scale(1.05)}.game-area{flex:1;position:relative;width:100%;height:100%}.grid-container{display:flex;justify-content:center;align-items:center;perspective:2000px;width:100%;height:100vh;background:transparent;overflow:hidden;position:relative;touch-action:none}.grid-container:before{content:"";position:absolute;top:50%;left:0;width:100%;height:200%;background:linear-gradient(to bottom,#050510,#000);transform:translateY(-50%) rotateX(60deg);z-index:0}.grid-center{position:relative;transform-style:preserve-3d;transform:rotateX(var(--tilt-x)) rotate(var(--tilt-z)) scale(.6);transition:transform .5s cubic-bezier(.4,0,.2,1);z-index:10;width:100%;height:100%;display:flex;justify-content:center;align-items:center}@media(max-width:768px){.grid-center{transform:rotateX(var(--tilt-x)) rotate(var(--tilt-z)) scale(.45)}}@media(max-width:480px){.grid-center{transform:rotateX(var(--tilt-x)) rotate(var(--tilt-z)) scale(.35)}}.combo-counter{position:fixed;top:100px;right:50px;font-size:3rem;font-weight:900;color:var(--neon-blue);text-shadow:0 0 20px var(--neon-blue);font-family:Outfit,sans-serif;font-style:italic;animation:combo-pulse .2s cubic-bezier(.175,.885,.32,1.275);z-index:10000;pointer-events:none}@keyframes combo-pulse{0%{transform:scale(1.5);filter:brightness(2)}to{transform:scale(1);filter:brightness(1)}}.tile{position:absolute;width:104px;height:120px;transform-style:preserve-3d;transform:translate3d(var(--pos-x),var(--pos-y),0);transition:transform .3s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.tile:hover{filter:brightness(1.2)}.tile-side{position:absolute;width:52px;height:30px;background:#0a0a12;transform-origin:top;backface-visibility:hidden;border:1px solid rgba(255,255,255,.03);pointer-events:none}.side-1{transform:translate3d(26px,15px,0) rotate(30deg) rotateX(-90deg);width:60px}.side-2{transform:translate3d(78px,15px,0) rotate(90deg) rotateX(-90deg);width:60px}.side-3{transform:translate3d(104px,60px,0) rotate(150deg) rotateX(-90deg);width:60px}.side-4{transform:translate3d(78px,105px,0) rotate(210deg) rotateX(-90deg);width:60px}.side-5{transform:translate3d(26px,105px,0) rotate(270deg) rotateX(-90deg);width:60px}.side-6{transform:translate3d(0,60px,0) rotate(330deg) rotateX(-90deg);width:60px}.tile-top{position:absolute;width:100%;height:100%;background:#12121e;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);border:1px solid rgba(255,255,255,.08);display:flex;justify-content:center;align-items:center;box-shadow:inset 0 0 30px #000000e6;z-index:2;pointer-events:none}.tile.gold .tile-top{background:linear-gradient(135deg,#00f2fe,#4facfe);box-shadow:0 0 50px #00f2fe66,inset 0 0 15px #ffffff80;border-color:#fff;animation:tile-land .4s cubic-bezier(.175,.885,.32,1.275)}.tile.gold .tile-side{background:#1e3a5f;border-color:#00f2fe33}@keyframes tile-land{0%{transform:scale(.6) translateZ(-50px);filter:brightness(2)}to{transform:scale(1) translateZ(0);filter:brightness(1)}}.tile:before{content:"";position:absolute;top:50%;left:50%;width:140%;height:140%;background:radial-gradient(circle,rgba(0,242,254,.1) 0%,transparent 70%);transform:translate(-50%,-50%) translateZ(-30px);pointer-events:none;opacity:0;transition:opacity .5s ease}.tile.gold:before{opacity:1}.grid-container.shake .grid-center{animation:mega-shake .4s cubic-bezier(.36,.07,.19,.97) both}@keyframes mega-shake{10%,90%{transform:rotateX(55deg) translate3d(-3px,0,0)}20%,80%{transform:rotateX(55deg) translate3d(6px,0,0)}30%,50%,70%{transform:rotateX(55deg) translate3d(-10px,0,0)}40%,60%{transform:rotateX(55deg) translate3d(10px,0,0)}}.pivot-base{position:absolute;top:50%;left:50%;width:200px;height:400px;background:linear-gradient(to bottom,#1a1a2e,#000);transform:translate(-50%,-50%) translateZ(-500px);clip-path:polygon(20% 0%,80% 0%,100% 100%,0% 100%);border-top:4px solid var(--neon-blue);box-shadow:0 0 50px #00f3ff33;z-index:-1}.game-over-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000e6;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;justify-content:center;align-items:center;z-index:100000}.neon-text-red{font-size:5rem;color:#f36;text-shadow:0 0 20px #ff3366,0 0 40px #ff3366;font-family:Outfit,sans-serif;letter-spacing:1rem;animation:glitch .2s infinite}@keyframes glitch{0%{transform:translate(0)}20%{transform:translate(-5px,2px)}40%{transform:translate(5px,-2px)}60%{transform:translate(-5px,-2px)}80%{transform:translate(5px,2px)}to{transform:translate(0)}}.balance-meter{position:absolute;top:-150px;left:50%;transform:translate(-50%);width:60px;height:60px;border:2px solid var(--neon-gold);border-radius:50%;background:#00000080;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:1000}.balance-dot{position:absolute;width:10px;height:10px;left:var(--dot-x);top:var(--dot-y);background:var(--neon-gold);border-radius:50%;box-shadow:0 0 10px var(--neon-gold);transition:all .1s linear}.balance-warning{position:absolute;top:70px;width:200px;left:50%;transform:translate(-50%);text-align:center;color:#f36;font-weight:700;font-size:.9rem;text-shadow:0 0 5px #ff3366;animation:balance-pulse .5s infinite;opacity:var(--warning-opacity)}@keyframes balance-pulse{0%,to{transform:translate(-50%) scale(1)}50%{transform:translate(-50%) scale(1.1)}}.grid-center.flip-death{animation:flip-off 2s forwards ease-in}@keyframes flip-off{0%{transform:rotateX(var(--tilt-x)) rotate(var(--tilt-z)) scale(.6)}to{transform:scale(.2) translate3d(0,1000px,-1000px) rotateX(180deg) rotate(90deg);opacity:0}}:root{--bert-size: 36px;--bert-color: #ffd700;--bert-glow: #ffcc00}.wakabert{position:absolute;width:100px;height:100px;display:flex;justify-content:center;align-items:center;transform:translate(var(--pos-x),var(--pos-y));z-index:var(--z-index);pointer-events:none;transition:transform .2s cubic-bezier(.175,.885,.32,1.275)}.wakabert-container{position:relative;transform-style:preserve-3d;transform:rotateX(-55deg) rotate(45deg)}.wakabert-body-3d{width:var(--bert-size);height:var(--bert-size);position:relative;transform-style:preserve-3d;transition:transform .3s cubic-bezier(.4,0,.2,1)}.wakabert.face-right .wakabert-body-3d{transform:rotateY(90deg)}.wakabert.face-left .wakabert-body-3d{transform:rotateY(-90deg)}.wakabert.face-up .wakabert-body-3d{transform:rotateY(180deg)}.wakabert.face-down .wakabert-body-3d{transform:rotateY(0)}.face{position:absolute;width:var(--bert-size);height:var(--bert-size);background:var(--bert-color);border:2px solid rgba(0,0,0,.2);box-sizing:border-box;box-shadow:inset 0 0 15px #ffffff80,0 0 10px var(--bert-glow)}.face.front{transform:translateZ(calc(var(--bert-size) / 2));background:#fc0}.face.back{transform:rotateY(180deg) translateZ(calc(var(--bert-size) / 2));background:#e6b800}.face.left{transform:rotateY(-90deg) translateZ(calc(var(--bert-size) / 2));background:#cca300}.face.right{transform:rotateY(90deg) translateZ(calc(var(--bert-size) / 2));background:#cca300}.face.top{transform:rotateX(90deg) translateZ(calc(var(--bert-size) / 2));background:#ffeb3b}.face.bottom{transform:rotateX(-90deg) translateZ(calc(var(--bert-size) / 2));background:#997a00}.eyes-3d{position:absolute;width:100%;height:100%;transform-style:preserve-3d;transform:translateZ(calc(var(--bert-size) / 2 + 1px))}.eye-3d{position:absolute;width:8px;height:8px;background:#000;top:8px;border-radius:1px;box-shadow:0 0 5px #00f3ff}.eye-3d.left{left:6px}.eye-3d.right{right:6px}.wakabert.jumping .wakabert-body-3d{animation:vox-jump .25s cubic-bezier(.175,.885,.32,1.275)}@keyframes vox-jump{0%{transform:translateY(0) scale3d(1.2,.8,1)}50%{transform:translateY(-50px) scale3d(.8,1.2,1)}to{transform:translateY(0) scaleZ(1)}}.wakabert-shadow{position:absolute;bottom:-10px;width:40px;height:15px;background:#0006;border-radius:50%;filter:blur(4px);transform:rotateX(60deg)}.wakabert.jumping .wakabert-shadow{animation:v-shadow-fade .25s ease-out}@keyframes v-shadow-fade{0%,to{transform:scale(1) rotateX(60deg);opacity:.4}50%{transform:scale(.4) rotateX(60deg);opacity:.1}}:root{--ghost-size: 40px;--ghost-red: #ff3366;--ghost-green: #33ff99;--ghost-blue: #33ccff}.ghost{position:absolute;width:100px;height:100px;display:flex;justify-content:center;align-items:center;transform:translate(var(--pos-x),var(--pos-y));z-index:var(--z-index);transition:transform .8s cubic-bezier(.4,0,.2,1)}.ghost-container-3d{position:relative;transform-style:preserve-3d;transform:rotateX(-55deg) rotate(45deg);animation:ghost-float 2s infinite ease-in-out}@keyframes ghost-float{0%,to{transform:rotateX(-55deg) rotate(45deg) translateY(0)}50%{transform:rotateX(-55deg) rotate(45deg) translateY(-20px)}}.ghost-body-3d{width:var(--ghost-size);height:calc(var(--ghost-size) * 1.2);position:relative;transform-style:preserve-3d}.ghost.red .face{background:var(--ghost-red);box-shadow:0 0 15px var(--ghost-red)}.ghost.green .face{background:var(--ghost-green);box-shadow:0 0 15px var(--ghost-green)}.ghost.vulnerable .face{background:var(--ghost-blue);box-shadow:0 0 20px var(--ghost-blue);animation:ghost-blink .5s infinite alternate}@keyframes ghost-blink{0%{filter:brightness(1)}to{filter:brightness(1.5)}}.face{position:absolute;width:100%;height:100%;border:1px solid rgba(255,255,255,.2);box-sizing:border-box}.face.front{transform:translateZ(calc(var(--ghost-size) / 2))}.face.back{transform:rotateY(180deg) translateZ(calc(var(--ghost-size) / 2));filter:brightness(.7)}.face.left{transform:rotateY(-90deg) translateZ(calc(var(--ghost-size) / 2));filter:brightness(.8)}.face.right{transform:rotateY(90deg) translateZ(calc(var(--ghost-size) / 2));filter:brightness(.8)}.face.top{height:var(--ghost-size);transform:rotateX(90deg) translateZ(calc(var(--ghost-size) / 2));filter:brightness(1.1)}.ghost-eyes-3d{position:absolute;width:100%;height:100%;transform-style:preserve-3d;transform:translateZ(calc(var(--ghost-size) / 2 + 1px))}.eye-p{position:absolute;width:12px;height:12px;background:#fff;top:10px;border-radius:50%}.eye-p.left{left:6px}.eye-p.right{right:6px}.ghost-shadow-3d{position:absolute;bottom:-10px;width:30px;height:12px;background:#0000004d;border-radius:50%;filter:blur(4px);transform:rotateX(60deg)}.power-diamond{position:absolute;width:120px;height:120px;display:flex;justify-content:center;align-items:center;transform:translate(var(--pos-x),var(--pos-y));z-index:var(--z-index);pointer-events:none;transform-style:preserve-3d}.diamond-shape{width:40px;height:40px;background:#00f2fe33;border:2px solid #00f2fe;transform:translateY(-60px) rotateX(45deg) rotate(45deg);display:flex;justify-content:center;align-items:center;box-shadow:0 0 20px #00f2fe80,inset 0 0 10px #00f2fe80;animation:hyper-float 2s infinite ease-in-out}.powerup-icon{transform:rotate(-45deg) rotateX(-45deg);font-size:1.5rem;filter:drop-shadow(0 0 5px #fff)}@keyframes hyper-float{0%,to{transform:translateY(-60px) rotateX(45deg) rotate(45deg) scale(1)}50%{transform:translateY(-90px) rotateX(45deg) rotate(225deg) scale(1.1)}}.diamond-glow{position:absolute;bottom:30px;width:60px;height:20px;background:radial-gradient(ellipse,#00f2fe 0%,transparent 70%);filter:blur(10px);opacity:.8;animation:pulse 2s infinite}.diamond-ring{position:absolute;width:80px;height:80px;border:2px solid rgba(0,242,254,.3);border-radius:50%;transform:translateY(-60px) rotateX(90deg);animation:ring-spin 4s infinite linear}@keyframes ring-spin{0%{transform:translateY(-60px) rotateX(90deg) rotate(0)}to{transform:translateY(-60px) rotateX(90deg) rotate(360deg)}}.pellet_shooter{--accent: #ff00ff}.ghost_freeze{--accent: #00ffff}.paint_bomb{--accent: #ff0000}.heavy_stomp{--accent: #ffff00}.shop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.shop-container{padding:3rem;text-align:center;max-width:800px}.perk-options{display:flex;gap:2rem;margin-top:2rem}.perk-card{flex:1;padding:1.5rem;background:#ffffff0d;border:1px solid var(--glass-border);border-radius:12px;cursor:pointer;transition:all .3s ease}.perk-card:hover{background:#ffffff1a;transform:translateY(-5px);border-color:var(--accent-gold)}.perk-icon{font-size:3rem;margin-bottom:1rem}.perk-card.agility:hover{border-color:var(--accent-blue);box-shadow:0 0 15px var(--accent-blue-glow)}.perk-card.strength:hover{border-color:var(--accent-red);box-shadow:0 0 15px var(--accent-red-glow)}.perk-card.magic:hover{border-color:var(--accent-green);box-shadow:0 0 15px var(--accent-green-glow)}.perk-card h3{margin-bottom:.5rem;font-size:1.2rem}.perk-card p{font-size:.9rem;color:var(--text-secondary)}.particle-canvas{position:fixed;top:0;left:0;pointer-events:none;z-index:10002;width:100vw;height:100vh}.mobile-controls{position:fixed;bottom:30px;left:30px;z-index:10000;display:none;pointer-events:auto}@media(max-width:768px){.mobile-controls{display:block}}.dpad{display:flex;flex-direction:column;align-items:center;gap:5px}.dpad-mid{display:flex;align-items:center;gap:5px}.dpad-btn{width:60px;height:60px;background:#ffffff1a;border:2px solid var(--neon-blue);border-radius:10px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;color:var(--neon-blue);font-size:1.5rem;cursor:pointer;box-shadow:0 0 10px var(--neon-blue-glow);transition:all .1s ease;-webkit-tap-highlight-color:transparent}.dpad-btn:active{background:var(--neon-blue);color:#000;transform:scale(.9)}.dpad-center{width:60px;height:60px;opacity:.2}.arrow{text-shadow:0 0 5px var(--neon-blue)}.pyramid-rotation{transform:rotateX(60deg) rotate(var(--pyramid-rot)) scale(.6);transition:transform .5s cubic-bezier(.4,0,.2,1);transform-style:preserve-3d}.pyramid-tile{transform:translate3d(var(--pos-x),var(--pos-y),var(--pos-z))}.pyramid-player-wrapper{transform:translateZ(var(--player-z));transform-style:preserve-3d;position:absolute}.vs-theme{--neon-blue: #00f3ff;--accent-blue: #00f3ff;--player-gold: #ffcc00;--rival-blue: #00f3ff;--rival-glow: #0088ff}.rival-tile .tile-top{background:linear-gradient(135deg,var(--rival-blue),#004488);box-shadow:0 0 15px #00f3ff99,inset 0 0 10px #00000080;border:1px solid var(--rival-blue);animation:rival-pulse 1.5s infinite alternate}@keyframes rival-pulse{0%{filter:brightness(1) drop-shadow(0 0 5px var(--rival-glow))}to{filter:brightness(1.3) drop-shadow(0 0 15px var(--rival-glow))}}.rival-bert{position:absolute;transform:translate3d(var(--rival-x),var(--rival-y),0);filter:hue-rotate(180deg) brightness(1.2) contrast(1.2);transition:transform .5s ease-in-out;pointer-events:none}.stun-icon{position:absolute;top:-40px;left:50%;transform:translate(-50%);font-size:2rem;animation:float .5s infinite alternate;z-index:100}.stun-indicator{font-family:Orbitron,monospace;text-shadow:0 0 10px yellow;animation:flash .2s infinite}@keyframes flash{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.vs-theme .tile.player .tile-top{background:linear-gradient(135deg,var(--player-gold),#ccaa00);box-shadow:0 0 15px var(--player-gold),inset 0 0 10px #00000080}.vs-theme .tile.gray .tile-top{background:#111;border:1px solid #333}.vs-grid-transform{transform:rotateX(60deg) rotate(-30deg) scale(.6)}.segment-player{background:var(--player-gold);box-shadow:0 0 10px var(--player-gold)}.segment-rival{background:var(--rival-blue);box-shadow:0 0 10px var(--rival-blue)}.vs-progress-bar{position:fixed;top:20px;left:50%;transform:translate(-50%);width:300px;height:10px;background:#333;display:flex;border-radius:5px;overflow:hidden;z-index:5000;border:1px solid #555}.victory-banner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:2rem;background:#000000e6;border:4px solid var(--player-gold);z-index:5000;text-align:center;border-radius:20px;box-shadow:0 0 50px var(--player-gold)}.defeat-banner{border-color:var(--rival-blue);box-shadow:0 0 50px var(--rival-blue)}.retry-button{margin-top:20px;padding:10px 20px;background:#ffffff1a;border:1px solid currentColor;color:inherit;font-family:inherit;cursor:pointer;transition:all .2s}.retry-button:hover{background:#ffffff4d;transform:scale(1.05)}.waka-waka-theme .tile.wall .tile-top{background:#1a1a2e;border:2px solid #00f3ff;box-shadow:0 0 15px #00f3ff}.wall-pillar{position:absolute;width:100%;height:100px;background:linear-gradient(to top,#00f3ff,transparent);bottom:100%;left:0;clip-path:polygon(25% 0%,75% 0%,100% 100%,0% 100%);opacity:.6;animation:wall-glimmer 2s infinite alternate}@keyframes wall-glimmer{0%{opacity:.3;filter:brightness(1)}to{opacity:.7;filter:brightness(1.5)}}.waka-waka-theme .tile.gold .tile-top{background:radial-gradient(circle,gold,#f80);box-shadow:0 0 20px gold}.waka-waka-theme:before{content:"WARP";position:absolute;top:50%;left:-100px;color:#f05;font-weight:700;font-family:Outfit,sans-serif;transform:translateY(-50%) rotate(-90deg);letter-spacing:10px;opacity:.5}.waka-waka-theme:after{content:"WARP";position:absolute;top:50%;right:-100px;color:#f05;font-weight:700;font-family:Outfit,sans-serif;transform:translateY(-50%) rotate(90deg);letter-spacing:10px;opacity:.5}.waka-grid-transform{transform:rotateX(60deg) rotate(-30deg) scale(.6)}.fruit-container{position:absolute;width:60px;height:60px;display:flex;justify-content:center;align-items:center;transform:translate(var(--pos-x),var(--pos-y));z-index:var(--z-axis);pointer-events:none;transition:transform .4s cubic-bezier(.175,.885,.32,1.275)}.fruit-sprite{font-size:2rem;animation:bounce-rotate 1.5s infinite ease-in-out;-webkit-filter:drop-shadow(0 0 10px rgba(255,0,85,.5));filter:drop-shadow(0 0 10px rgba(255,0,85,.5))}@keyframes bounce-rotate{0%,to{transform:translateY(0) rotate(0) scale(1.1)}50%{transform:translateY(-20px) rotate(10deg) scale(1.3)}}.fruit-glow{position:absolute;width:40px;height:20px;background:radial-gradient(circle,rgba(255,0,85,.4) 0%,transparent 70%);bottom:5px;filter:blur(5px);border-radius:50%}.cherry .fruit-sprite{filter:drop-shadow(0 0 10px #ff0055)}.strawberry .fruit-sprite{filter:drop-shadow(0 0 10px #ff3366)}.orange .fruit-sprite{filter:drop-shadow(0 0 10px #ffa500)}.tesseract-arena{background:radial-gradient(circle at center,#0a0a20,#000);perspective:1000px}.tesseract-projection{position:relative;width:800px;height:800px;display:flex;justify-content:center;align-items:center}.waka-bert-3d-wrapper{position:absolute;left:50%;top:50%;transform:translate(calc(-50% + var(--player-x)),calc(-50% + var(--player-y))) scale(var(--player-z));z-index:1000;pointer-events:none;transition:transform .1s linear}.tesseract-face{fill:#00f3ff0d;stroke:#00f3ff4d;stroke-width:.01;transition:fill .3s,stroke .3s}.tesseract-face.painted{fill:#ffd70033;stroke:#ffd700cc;filter:drop-shadow(0 0 5px #ffd700)}.tesseract-face.current{fill:#ffffff1a;stroke-width:.02;stroke:#fff}.hyper-nebula{position:absolute;width:100%;height:100%;background:radial-gradient(circle at 20% 30%,rgba(188,19,254,.1) 0%,transparent 40%),radial-gradient(circle at 80% 70%,rgba(0,243,255,.1) 0%,transparent 40%);filter:blur(50px);z-index:-1;animation:nebula-float 10s infinite alternate}@keyframes nebula-float{0%{transform:scale(1) rotate(0)}to{transform:scale(1.2) rotate(5deg)}}.mode-label-4d{position:absolute;top:120px;left:50%;transform:translate(-50%);color:#bc13fe;font-family:Outfit,sans-serif;letter-spacing:5px;text-shadow:0 0 10px #bc13fe;font-size:.8rem;font-weight:700}.game-hud{display:flex;justify-content:space-between;align-items:center;padding:.8rem 2rem;margin:1rem;z-index:1000;min-width:800px}.hud-left,.hud-right{display:flex;gap:2rem;align-items:center}.hud-item{display:flex;flex-direction:column}.hud-item .label{font-size:.6rem;letter-spacing:.2rem;color:var(--text-secondary);font-weight:800}.hud-item .value{font-size:1.4rem;font-weight:900;font-family:JetBrains Mono,Courier New,monospace}.xp-bar-container{flex-grow:1;max-width:400px;position:relative;margin:0 2rem}.xp-bar{width:100%;height:20px;background:#0000004d;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.1);position:relative}.xp-fill{height:100%;width:var(--xp-width);background:linear-gradient(90deg,#3f9,#0cf);box-shadow:0 0 15px var(--accent-green-glow);transition:width .5s cubic-bezier(.4,0,.2,1)}.xp-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.7rem;font-weight:900;text-shadow:0 0 5px #000;pointer-events:none}.perks-display{display:flex;gap:.5rem}.active-perk{width:32px;height:32px;background:var(--bg-card);border-radius:8px;display:flex;justify-content:center;align-items:center;border:1px solid var(--glass-border);font-size:1.2rem;box-shadow:0 0 10px #0000004d;transition:transform .2s ease}.active-perk:hover{transform:scale(1.2)}.active-perk.agility{border-color:var(--accent-blue);box-shadow:0 0 10px var(--accent-blue-glow)}.active-perk.strength{border-color:var(--accent-red);box-shadow:0 0 10px var(--accent-red-glow)}.active-perk.magic{border-color:var(--accent-gold);box-shadow:0 0 10px var(--accent-gold-glow)}
